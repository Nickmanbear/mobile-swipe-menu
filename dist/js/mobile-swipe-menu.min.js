/**
 * @package        mobile-swipe-menu
 * @version        1.0.2
 * @description    Swipe Menu with Vanilla JS for mobile
 * @author         milkamil93
 * @copyright      2020 mobile-swipe-menu
 * @license        GPL-3.0
 * @link           https://github.com/milkamil93/mobile-swipe-menu
*/!function(n){var i={};function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=n,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),o=n(1),r=n.n(o),h=(r()(u,[{key:"set",value:function(t,e){this[t]=e}},{key:"get",value:function(t){return this[t]}},{key:"eventListener",value:function(t){t.addEventListener("mousedown",this.handleTouchStart.bind(this),!1),t.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),t.addEventListener("mousemove",this.handleTouchMove.bind(this),!1),t.addEventListener("touchmove",this.handleTouchMove.bind(this),!1),t.addEventListener("mouseup",this.handleTouchEnd.bind(this),!1),t.addEventListener("touchend",this.handleTouchEnd.bind(this),!1)}},{key:"getTouches",value:function(t){var e={offsetX:0,offsetY:0},n=t.touches?t.touches[0]:!!t.originalEvent&&t.originalEvent.touches[0];return n?(e.offsetX=n.clientX,e.offsetY=n.clientY):(e.offsetX=t.clientX,e.offsetY=t.clientY),e}},{key:"handleTouchStart",value:function(t){var e=this.getTouches(t);this.set("inWork",!0),this.set("xDown",e.offsetX),this.set("yDown",e.offsetY),this.set("xStart",e.offsetX),this.set("yStart",e.offsetY),this.start(t)}},{key:"handleTouchMove",value:function(t){if(!this.get("inWork"))return!1;var e=this.getTouches(t);if(this.set("xCurrent",e.offsetX-this.get("xStart")),this.set("yCurrent",e.offsetY-this.get("yStart")),this.drag(t),!this.get("xDown")||!this.get("yDown"))return!1;var n=this.get("xDown")-e.offsetX,i=this.get("yDown")-e.offsetY;Math.abs(n)>Math.abs(i)?0<n?(this.set("currentDirection","left"),this.left(t)):(this.set("currentDirection","right"),this.right(t)):0<i?(this.set("currentDirection","up"),this.up(t)):(this.set("currentDirection","down"),this.down(t)),this.set("xDown",null),this.set("yDown",null)}},{key:"handleTouchEnd",value:function(t){this.set("inWork",!1),this.stop(t)}},{key:"preventDefault",value:function(t){"touchmove"===t.type?t.stopImmediatePropagation():t.preventDefault()}},{key:"drag",value:function(t){this.preventDefault(t),t.target.style.transition="none",t.target.style.transform="translate("+this.get("xCurrent")+"px, "+this.get("yCurrent")+"px)"}},{key:"left",value:function(t){}},{key:"right",value:function(t){}},{key:"up",value:function(t){}},{key:"down",value:function(t){}},{key:"start",value:function(t){}},{key:"stop",value:function(t){}}]),u),l=(r()(a,[{key:"connectElement",value:function(t){this.element=document.querySelector(t),this.element.style.willChange="transform",this.element.style.top="0",this.element.style.zIndex="9999",this.element.style.position="fixed",this.boxWidth=Number(this.element.style.width.replace(/[^\d]+/g,"")),this.windowWidth=window.innerWidth-this.scrollWidth(),0===this.boxWidth&&(this.boxWidth=this.boxWidth||this.windowWidth,this.element.style.width=this.boxWidth+"px"),this.element.style[this.mode]=-this.boxWidth+"px"}},{key:"createHook",value:function(){var t=document.createElement("div");t.style.width=this.hookWidth+"px",t.style.height="100%",t.style.top="0",t.style.position="absolute","right"===this.mode?t.style.left="-30px":t.style.right="-30px",t.style.cursor="pointer",this.element.append(t)}},{key:"open",value:function(){this.element.style.transition="transform .15s ease-in-out",setTimeout(function(){this.element.style.transition=""},200)}},{key:"swipe",value:function(){var i=this,s=this.element,t=new h(s);t.start=function(t){var e=new WebKitCSSMatrix(getComputedStyle(s).transform).m41,n=this.getTouches(t).offsetX;e&&this.set("xStart",n-e)},t.drag=function(t){this.preventDefault(t),s.style.transition="none";var e=this.get("xCurrent"),n=Math.floor(s.getBoundingClientRect().left);if("right"===i.mode)switch(this.currentDirection){case"left":n>i.windowWidth-i.boxWidth&&i.windowWidth>=n&&(this.preventDefault(t),s.style.transition="none",-e>i.boxWidth?e=-i.boxWidth:0<e&&(e=0),s.style.transform="translateX("+e+"px)");break;case"right":n>=i.windowWidth-i.boxWidth&&i.windowWidth>n&&(this.preventDefault(t),s.style.transition="none",-e<0?e=0:-e>i.boxWidth&&(e=-i.boxWidth),s.style.transform="translateX("+e+"px)")}else if("left"===i.mode)switch(this.currentDirection){case"right":n<0&&(e>i.boxWidth?e=i.boxWidth:e<=0&&(e=0),s.style.transform="translateX("+e+"px)");break;case"left":-n<i.boxWidth&&(e>i.boxWidth?e=i.boxWidth:e<0&&(e=0),s.style.transform="translateX("+e+"px)")}},t.stop=function(){var t=Math.floor(s.getBoundingClientRect().left);if(s.style.transition="transform .15s ease-in-out","right"===i.mode)switch(this.currentDirection){case"left":t<i.boxWidth?s.style.transform="translateX(-"+i.boxWidth+"px)":s.style.transform="translateX(0px)";break;case"right":t>2*(i.windowWidth-i.boxWidth)?s.style.transform="translateX(0px)":s.style.transform="translateX(-"+i.boxWidth+"px)"}else if("left"===i.mode)switch(this.currentDirection){case"right":t>i.windowWidth-2*i.boxWidth?s.style.transform="translateX("+i.boxWidth+"px)":s.style.transform="translateX(0px)";break;case"left":t<i.boxWidth-i.windowWidth?s.style.transform="translateX(0px)":s.style.transform="translateX("+i.boxWidth+"px)"}setTimeout(function(){s.style.transition=""},200)}}},{key:"scrollWidth",value:function(){var t=this._scrollWidth;if(!1===t){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e),this._scrollWidth=e.offsetWidth-e.clientWidth,e.remove()}return t}}]),a);function a(t,e){s()(this,a),this.mode=e||"right",this.boxWidth=0,this.hookWidth=30,this.windowWidth=0,this._scrollWidth=!1,this.connectElement(t),this.createHook(),this.swipe(t)}function u(t){s()(this,u),this.inWork=!1,this.xDown=null,this.yDown=null,this.xStart=null,this.yStart=null,this.xCurrent=null,this.yCurrent=null,this.currentDirection=null,"string"==typeof t?document.querySelectorAll(t).forEach(this.eventListener.bind(this)):this.eventListener(t)}window.MobileSwipeMenu=l}]);